{"uid":"348909078121d3ab","name":"test_full_cluster_restart[SIGTERM-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_full_cluster_restart","historyId":"49b54a769a8dddb0f8825db8919381ac","time":{"start":1721440837428,"stop":1721440897470,"duration":60042},"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","descriptionHtml":"<p>This tests checks that a cluster recovers from a full cluster restart.</p>\n<pre><code>The test can be called a full cluster crash when the signal sent to the OS process\nis SIGKILL.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1721439229782,"stop":1721439229782,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1721439229783,"stop":1721439229954,"duration":171},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1721439229783,"stop":1721439229783,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition","time":{"start":1721440829229,"stop":1721440836389,"duration":7160},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1721440829229,"stop":1721440829229,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1721440829229,"stop":1721440829229,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"loop_wait","time":{"start":1721440836389,"stop":1721440837428,"duration":1039},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","status":"passed","steps":[],"attachments":[{"uid":"feb05deadc386e","name":"log","source":"feb05deadc386e.txt","type":"text/plain","size":91}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"loop_wait::finalizer","time":{"start":1721440897471,"stop":1721440897570,"duration":99},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition::finalizer","time":{"start":1721440897570,"stop":1721440908204,"duration":10634},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes::finalizer","time":{"start":1721440908205,"stop":1721440909228,"duration":1023},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1721440909229,"stop":1721440909229,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1721441177471,"stop":1721441178179,"duration":708},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1721441178180,"stop":1721441178206,"duration":26},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1721441178206,"stop":1721441178206,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1721441178206,"stop":1721441178210,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az735-640"},{"name":"thread","value":"7460-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGTERM'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"d74b55fbed231133","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":16,"broken":3,"skipped":0,"passed":19,"unknown":4,"total":42},"items":[{"uid":"5e919ac5e3d46b1d","reportUrl":"../113//#testresult/5e919ac5e3d46b1d","status":"passed","time":{"start":1721267987599,"stop":1721268031173,"duration":43574}},{"uid":"19fada6ec33b9a4e","reportUrl":"../111//#testresult/19fada6ec33b9a4e","status":"failed","statusDetails":"AssertionError: Not all units down at the same time.\nassert False","time":{"start":1721182313532,"stop":1721183331382,"duration":1017850}},{"uid":"a64382dc51b7f244","reportUrl":"../110//#testresult/a64382dc51b7f244","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7ff7a6530ac0 state=finished raised RetryError>]","time":{"start":1721097779856,"stop":1721097779856,"duration":0}},{"uid":"835e0de503e0ebf1","reportUrl":"../109//#testresult/835e0de503e0ebf1","status":"failed","statusDetails":"AssertionError: Not all units down at the same time.\nassert False","time":{"start":1721009173807,"stop":1721010127315,"duration":953508}},{"uid":"d257b4a08371d5bc","reportUrl":"../108//#testresult/d257b4a08371d5bc","status":"passed","time":{"start":1720922462663,"stop":1720922525161,"duration":62498}},{"uid":"91da96f653d0397a","reportUrl":"../107//#testresult/91da96f653d0397a","status":"passed","time":{"start":1720836578592,"stop":1720836619346,"duration":40754}},{"uid":"2bf8572eda7c9829","reportUrl":"../106//#testresult/2bf8572eda7c9829","status":"passed","time":{"start":1720749332264,"stop":1720749372489,"duration":40225}},{"uid":"8d9254ae1b0c8add","reportUrl":"../105//#testresult/8d9254ae1b0c8add","status":"passed","time":{"start":1720663356449,"stop":1720663399531,"duration":43082}},{"uid":"363960a44f83afe8","reportUrl":"../104//#testresult/363960a44f83afe8","status":"passed","time":{"start":1720576618902,"stop":1720576691922,"duration":73020}},{"uid":"f15e2718c6df41ac","reportUrl":"../103//#testresult/f15e2718c6df41ac","status":"failed","statusDetails":"AssertionError: Not all units down at the same time.\nassert False","time":{"start":1720490906213,"stop":1720492108740,"duration":1202527}},{"uid":"437db3415696412a","reportUrl":"../102//#testresult/437db3415696412a","status":"unknown","time":{}},{"uid":"1d643e4a1623feff","reportUrl":"../101//#testresult/1d643e4a1623feff","status":"failed","statusDetails":"AssertionError: Not all units down at the same time.\nassert False","time":{"start":1720318156908,"stop":1720319083860,"duration":926952}},{"uid":"b07278d0bf123bc8","reportUrl":"../100//#testresult/b07278d0bf123bc8","status":"unknown","time":{}},{"uid":"9b7c11a7d3fa73ee","reportUrl":"../99//#testresult/9b7c11a7d3fa73ee","status":"failed","statusDetails":"AssertionError: Not all units down at the same time.\nassert False","time":{"start":1720145369938,"stop":1720146833447,"duration":1463509}},{"uid":"1368009b13f11d7c","reportUrl":"../98//#testresult/1368009b13f11d7c","status":"passed","time":{"start":1720058513401,"stop":1720058576990,"duration":63589}},{"uid":"72dc7ffcd1c445cc","reportUrl":"../97//#testresult/72dc7ffcd1c445cc","status":"failed","statusDetails":"AssertionError: Not all units down at the same time.\nassert False","time":{"start":1719972875076,"stop":1719973948387,"duration":1073311}},{"uid":"87df8e4acdd30c76","reportUrl":"../96//#testresult/87df8e4acdd30c76","status":"passed","time":{"start":1719885481887,"stop":1719885520777,"duration":38890}},{"uid":"3a3cd4261c2cdb46","reportUrl":"../95//#testresult/3a3cd4261c2cdb46","status":"failed","statusDetails":"AssertionError: Not all units down at the same time.\nassert False","time":{"start":1719799408432,"stop":1719800498968,"duration":1090536}},{"uid":"4228276abf5f4565","reportUrl":"../94//#testresult/4228276abf5f4565","status":"passed","time":{"start":1719712493137,"stop":1719712539668,"duration":46531}},{"uid":"7d44f754bfe4de58","reportUrl":"../93//#testresult/7d44f754bfe4de58","status":"failed","statusDetails":"AssertionError: Not all units down at the same time.\nassert False","time":{"start":1719626788266,"stop":1719627695590,"duration":907324}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"348909078121d3ab.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGTERM'"]}