{"uid":"8c49e1f26f519382","name":"test_full_cluster_restart[SIGTERM-/snap/charmed-postgresql/[0-9]*/usr/bin/patroni]","fullName":"tests.integration.ha_tests.test_self_healing#test_full_cluster_restart","historyId":"49b54a769a8dddb0f8825db8919381ac","time":{"start":1722390894578,"stop":1722390972282,"duration":77704},"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","descriptionHtml":"<p>This tests checks that a cluster recovers from a full cluster restart.</p>\n<pre><code>The test can be called a full cluster crash when the signal sent to the OS process\nis SIGKILL.\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1722389444895,"stop":1722389444896,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1722389444896,"stop":1722389445056,"duration":160},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1722389444896,"stop":1722389444896,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1722390886461,"stop":1722390886461,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition","time":{"start":1722390886461,"stop":1722390893539,"duration":7078},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1722390886461,"stop":1722390886461,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"loop_wait","time":{"start":1722390893539,"stop":1722390894578,"duration":1039},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"This tests checks that a cluster recovers from a full cluster restart.\n\n    The test can be called a full cluster crash when the signal sent to the OS process\n    is SIGKILL.\n    ","status":"passed","steps":[],"attachments":[{"uid":"9c36e6b67f9b6b66","name":"log","source":"9c36e6b67f9b6b66.txt","type":"text/plain","size":91}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"loop_wait::finalizer","time":{"start":1722390972282,"stop":1722390972370,"duration":88},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"reset_restart_condition::finalizer","time":{"start":1722390972371,"stop":1722390982322,"duration":9951},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes::finalizer","time":{"start":1722390982322,"stop":1722390983341,"duration":1019},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1722390983342,"stop":1722390983342,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1722392340313,"stop":1722392340635,"duration":322},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1722392340636,"stop":1722392340636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1722392340636,"stop":1722392340636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1722392340636,"stop":1722392340636,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az1149-192"},{"name":"thread","value":"7591-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"process","value":"'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'"},{"name":"signal","value":"'SIGTERM'"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"7c75e2cfe5981a7e","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":16,"broken":5,"skipped":1,"passed":26,"unknown":5,"total":53},"items":[{"uid":"debdd03f3443f384","reportUrl":"../127//#testresult/debdd03f3443f384","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1722304831247,"stop":1722304831247,"duration":0}},{"uid":"bfecaab3f7d2c1e8","reportUrl":"../126//#testresult/bfecaab3f7d2c1e8","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7fa5cbbe9420 state=finished raised AssertionError>]","time":{"start":1722218268343,"stop":1722218488653,"duration":220310}},{"uid":"fe2284c1a18acb96","reportUrl":"../125//#testresult/fe2284c1a18acb96","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7f61c46a90c0 state=finished raised AssertionError>]","time":{"start":1722131667832,"stop":1722131900936,"duration":233104}},{"uid":"89213ccd88b71fe6","reportUrl":"../124//#testresult/89213ccd88b71fe6","status":"passed","time":{"start":1722045479021,"stop":1722045559181,"duration":80160}},{"uid":"911ee8772d941ee3","reportUrl":"../123//#testresult/911ee8772d941ee3","status":"passed","time":{"start":1721959007050,"stop":1721959056102,"duration":49052}},{"uid":"45fbcbc40945a3fc","reportUrl":"../122//#testresult/45fbcbc40945a3fc","status":"unknown","time":{}},{"uid":"229136688f0fdf57","reportUrl":"../121//#testresult/229136688f0fdf57","status":"passed","time":{"start":1721787195178,"stop":1721787247937,"duration":52759}},{"uid":"314e77db98f86980","reportUrl":"../120//#testresult/314e77db98f86980","status":"passed","time":{"start":1721699596440,"stop":1721699660134,"duration":63694}},{"uid":"d4db58abfd35d945","reportUrl":"../119//#testresult/d4db58abfd35d945","status":"passed","time":{"start":1721613453309,"stop":1721613495973,"duration":42664}},{"uid":"8e00ee3f8641a6db","reportUrl":"../118//#testresult/8e00ee3f8641a6db","status":"passed","time":{"start":1721527947033,"stop":1721528010663,"duration":63630}},{"uid":"348909078121d3ab","reportUrl":"../117//#testresult/348909078121d3ab","status":"passed","time":{"start":1721440837428,"stop":1721440897470,"duration":60042}},{"uid":"5e919ac5e3d46b1d","reportUrl":"../113//#testresult/5e919ac5e3d46b1d","status":"passed","time":{"start":1721267987599,"stop":1721268031173,"duration":43574}},{"uid":"19fada6ec33b9a4e","reportUrl":"../111//#testresult/19fada6ec33b9a4e","status":"failed","statusDetails":"AssertionError: Not all units down at the same time.\nassert False","time":{"start":1721182313532,"stop":1721183331382,"duration":1017850}},{"uid":"a64382dc51b7f244","reportUrl":"../110//#testresult/a64382dc51b7f244","status":"broken","statusDetails":"tenacity.RetryError: RetryError[<Future at 0x7ff7a6530ac0 state=finished raised RetryError>]","time":{"start":1721097779856,"stop":1721097779856,"duration":0}},{"uid":"835e0de503e0ebf1","reportUrl":"../109//#testresult/835e0de503e0ebf1","status":"failed","statusDetails":"AssertionError: Not all units down at the same time.\nassert False","time":{"start":1721009173807,"stop":1721010127315,"duration":953508}},{"uid":"d257b4a08371d5bc","reportUrl":"../108//#testresult/d257b4a08371d5bc","status":"passed","time":{"start":1720922462663,"stop":1720922525161,"duration":62498}},{"uid":"91da96f653d0397a","reportUrl":"../107//#testresult/91da96f653d0397a","status":"passed","time":{"start":1720836578592,"stop":1720836619346,"duration":40754}},{"uid":"2bf8572eda7c9829","reportUrl":"../106//#testresult/2bf8572eda7c9829","status":"passed","time":{"start":1720749332264,"stop":1720749372489,"duration":40225}},{"uid":"8d9254ae1b0c8add","reportUrl":"../105//#testresult/8d9254ae1b0c8add","status":"passed","time":{"start":1720663356449,"stop":1720663399531,"duration":43082}},{"uid":"363960a44f83afe8","reportUrl":"../104//#testresult/363960a44f83afe8","status":"passed","time":{"start":1720576618902,"stop":1720576691922,"duration":73020}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"8c49e1f26f519382.json","parameterValues":["'/snap/charmed-postgresql/[0-9]*/usr/bin/patroni'","'SIGTERM'"]}