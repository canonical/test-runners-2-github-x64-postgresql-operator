{"uid":"ac1761065b61e6a","name":"test_reestablish_relation","fullName":"tests.integration.ha_tests.test_async_replication#test_reestablish_relation","historyId":"983fbfc05186ee6ff860fe59106cd462","time":{"start":1722651194142,"stop":1722651712194,"duration":518052},"description":"Test that the relation can be broken and re-established.","descriptionHtml":"<p>Test that the relation can be broken and re-established.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1722649053313,"stop":1722649053314,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1722649053314,"stop":1722649053471,"duration":157},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1722649053314,"stop":1722649053314,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1722649053471,"stop":1722649053472,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1722649053472,"stop":1722649054198,"duration":726},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1722651194141,"stop":1722651194141,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1722651194141,"stop":1722651194141,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test that the relation can be broken and re-established.","status":"passed","steps":[],"attachments":[{"uid":"cd3f589dc46c9f1a","name":"log","source":"cd3f589dc46c9f1a.txt","type":"text/plain","size":4226}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1722651712195,"stop":1722651713213,"duration":1018},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1722651713214,"stop":1722651713214,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::finalizer","time":{"start":1722651770518,"stop":1722651770540,"duration":22},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1722651770541,"stop":1722651772557,"duration":2016},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1722651772558,"stop":1722651772558,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1722651772558,"stop":1722651772558,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1722651772558,"stop":1722651772559,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3')"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"fv-az654-953"},{"name":"thread","value":"8235-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"39d2d9cdb784ffd5","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":1,"broken":3,"skipped":7,"passed":43,"unknown":2,"total":56},"items":[{"uid":"fb78d7636114178c","reportUrl":"../130//#testresult/fb78d7636114178c","status":"passed","time":{"start":1722564650483,"stop":1722565156346,"duration":505863}},{"uid":"9d93b1683056cb2e","reportUrl":"../129//#testresult/9d93b1683056cb2e","status":"passed","time":{"start":1722477921178,"stop":1722478462838,"duration":541660}},{"uid":"e8d49d1f6caff284","reportUrl":"../128//#testresult/e8d49d1f6caff284","status":"passed","time":{"start":1722391631251,"stop":1722392147893,"duration":516642}},{"uid":"7389149efb2eec17","reportUrl":"../127//#testresult/7389149efb2eec17","status":"passed","time":{"start":1722305218273,"stop":1722305714064,"duration":495791}},{"uid":"4b8b4d29eb40bf06","reportUrl":"../126//#testresult/4b8b4d29eb40bf06","status":"passed","time":{"start":1722218578582,"stop":1722219061672,"duration":483090}},{"uid":"b7056b8655e3c9fa","reportUrl":"../125//#testresult/b7056b8655e3c9fa","status":"passed","time":{"start":1722132366650,"stop":1722132876945,"duration":510295}},{"uid":"9ddab60f25d542e6","reportUrl":"../124//#testresult/9ddab60f25d542e6","status":"passed","time":{"start":1722045856111,"stop":1722046355070,"duration":498959}},{"uid":"88b87d816a4db0e5","reportUrl":"../123//#testresult/88b87d816a4db0e5","status":"failed","statusDetails":"AssertionError: Promote action failed\nassert (1 == 0 or None == '0')\n +  where 1 = <built-in method get of dict object at 0x7fcb32b08500>('return-code', None)\n +    where <built-in method get of dict object at 0x7fcb32b08500> = {'return-code': 1, 'stderr': \"Uncaught AttributeError in charm code: 'NoneType' object has no attribute 'name'\\nUse `juju debug-log` to see the full traceback.\\n\"}.get\n +      where {'return-code': 1, 'stderr': \"Uncaught AttributeError in charm code: 'NoneType' object has no attribute 'name'\\nUse `juju debug-log` to see the full traceback.\\n\"} = <Action entity_id=\"68\">.results\n +  and   None = <built-in method get of dict object at 0x7fcb32b08500>('Code', None)\n +    where <built-in method get of dict object at 0x7fcb32b08500> = {'return-code': 1, 'stderr': \"Uncaught AttributeError in charm code: 'NoneType' object has no attribute 'name'\\nUse `juju debug-log` to see the full traceback.\\n\"}.get\n +      where {'return-code': 1, 'stderr': \"Uncaught AttributeError in charm code: 'NoneType' object has no attribute 'name'\\nUse `juju debug-log` to see the full traceback.\\n\"} = <Action entity_id=\"68\">.results","time":{"start":1721959339134,"stop":1721959398467,"duration":59333}},{"uid":"d56f1216dfbb12e8","reportUrl":"../122//#testresult/d56f1216dfbb12e8","status":"passed","time":{"start":1721873473185,"stop":1721873974964,"duration":501779}},{"uid":"da2149819d8ce57c","reportUrl":"../121//#testresult/da2149819d8ce57c","status":"passed","time":{"start":1721787078368,"stop":1721787591040,"duration":512672}},{"uid":"e2b5d3b1d56537b6","reportUrl":"../120//#testresult/e2b5d3b1d56537b6","status":"passed","time":{"start":1721700191321,"stop":1721700704256,"duration":512935}},{"uid":"8d4807ff3d5c8b83","reportUrl":"../119//#testresult/8d4807ff3d5c8b83","status":"passed","time":{"start":1721614514783,"stop":1721615159412,"duration":644629}},{"uid":"6edfdab7803d369a","reportUrl":"../118//#testresult/6edfdab7803d369a","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1721526151029,"stop":1721526151029,"duration":0}},{"uid":"129c2a7333dcf984","reportUrl":"../117//#testresult/129c2a7333dcf984","status":"passed","time":{"start":1721441870104,"stop":1721442377838,"duration":507734}},{"uid":"92826d32fa73c8dd","reportUrl":"../113//#testresult/92826d32fa73c8dd","status":"passed","time":{"start":1721268784386,"stop":1721269264774,"duration":480388}},{"uid":"86b2251e9b1600ae","reportUrl":"../111//#testresult/86b2251e9b1600ae","status":"passed","time":{"start":1721182185413,"stop":1721182666774,"duration":481361}},{"uid":"ae9b981721982e58","reportUrl":"../110//#testresult/ae9b981721982e58","status":"passed","time":{"start":1721095749539,"stop":1721096201243,"duration":451704}},{"uid":"8ce84ab0d8e65c22","reportUrl":"../109//#testresult/8ce84ab0d8e65c22","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1721009810012,"stop":1721009810012,"duration":0}},{"uid":"1cdc2d203f55d8a3","reportUrl":"../108//#testresult/1cdc2d203f55d8a3","status":"passed","time":{"start":1720922726652,"stop":1720923207643,"duration":480991}},{"uid":"b26310f818ee0d8c","reportUrl":"../107//#testresult/b26310f818ee0d8c","status":"passed","time":{"start":1720836533604,"stop":1720837000627,"duration":467023}}]},"tags":["asyncio","abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3')","group(1)"]},"source":"ac1761065b61e6a.json","parameterValues":[]}