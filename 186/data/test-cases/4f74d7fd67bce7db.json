{"uid":"4f74d7fd67bce7db","name":"test_storage_re_use","fullName":"tests.integration.ha_tests.test_self_healing#test_storage_re_use","historyId":"c97d99b81d8bb075ab78e01561cd1a68","time":{"start":1727314926562,"stop":1727315357208,"duration":430646},"description":"Verifies that database units with attached storage correctly repurpose storage.\n\n    It is not enough to verify that Juju attaches the storage. Hence test checks that the\n    postgresql properly uses the storage that was provided. (ie. doesn't just re-sync everything\n    from primary, but instead computes a diff between current storage and primary storage.)\n    ","descriptionHtml":"<p>Verifies that database units with attached storage correctly repurpose storage.</p>\n<pre><code>It is not enough to verify that Juju attaches the storage. Hence test checks that the\npostgresql properly uses the storage that was provided. (ie. doesn't just re-sync everything\nfrom primary, but instead computes a diff between current storage and primary storage.)\n</code></pre>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1727314229961,"stop":1727314229961,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1727314229962,"stop":1727314229962,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1727314229962,"stop":1727314230112,"duration":150},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1727314926561,"stop":1727314926561,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1727314926561,"stop":1727314926562,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Verifies that database units with attached storage correctly repurpose storage.\n\n    It is not enough to verify that Juju attaches the storage. Hence test checks that the\n    postgresql properly uses the storage that was provided. (ie. doesn't just re-sync everything\n    from primary, but instead computes a diff between current storage and primary storage.)\n    ","status":"passed","steps":[],"attachments":[{"uid":"5e12c52d2a8e6933","name":"log","source":"5e12c52d2a8e6933.txt","type":"text/plain","size":2667}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1727315357209,"stop":1727315358226,"duration":1017},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1727315358227,"stop":1727315358227,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1727316703620,"stop":1727316704332,"duration":712},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1727316704333,"stop":1727316704333,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1727316704333,"stop":1727316704333,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1727316704333,"stop":1727316704333,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_self_healing"},{"name":"host","value":"fv-az984-81"},{"name":"thread","value":"15734-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_self_healing"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"60453a67c640ebc9","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":53,"skipped":0,"passed":51,"unknown":6,"total":110},"items":[{"uid":"e2ba7393631f9ae","reportUrl":"../184//#testresult/e2ba7393631f9ae","status":"broken","statusDetails":"juju.errors.JujuAPIError: application \"postgresql-test-app\" has no \"first-database\" relation","time":{"start":1727228521465,"stop":1727228522306,"duration":841}},{"uid":"e437e02666ec4726","reportUrl":"../183//#testresult/e437e02666ec4726","status":"broken","statusDetails":"juju.errors.JujuAPIError: application \"postgresql-test-app\" has no \"first-database\" relation","time":{"start":1727142210837,"stop":1727142211526,"duration":689}},{"uid":"57184fa83fda93c9","reportUrl":"../182//#testresult/57184fa83fda93c9","status":"broken","statusDetails":"juju.errors.JujuAPIError: application \"postgresql-test-app\" has no \"first-database\" relation","time":{"start":1727055767232,"stop":1727055768140,"duration":908}},{"uid":"804c3c17ef24c22d","reportUrl":"../181//#testresult/804c3c17ef24c22d","status":"broken","statusDetails":"juju.errors.JujuAPIError: application \"postgresql-test-app\" has no \"first-database\" relation","time":{"start":1726969436062,"stop":1726969436891,"duration":829}},{"uid":"4868b30fcfd53e38","reportUrl":"../180//#testresult/4868b30fcfd53e38","status":"broken","statusDetails":"juju.errors.JujuAPIError: application \"postgresql-test-app\" has no \"first-database\" relation","time":{"start":1726882936054,"stop":1726882936662,"duration":608}},{"uid":"9718602204e0278f","reportUrl":"../179//#testresult/9718602204e0278f","status":"broken","statusDetails":"juju.errors.JujuAPIError: application \"postgresql-test-app\" has no \"first-database\" relation","time":{"start":1726796535421,"stop":1726796536387,"duration":966}},{"uid":"62cc87df22173769","reportUrl":"../178//#testresult/62cc87df22173769","status":"unknown","time":{}},{"uid":"9cebef2d6435f78d","reportUrl":"../177//#testresult/9cebef2d6435f78d","status":"broken","statusDetails":"juju.errors.JujuAPIError: application \"postgresql-test-app\" has no \"first-database\" relation","time":{"start":1726623714795,"stop":1726623715869,"duration":1074}},{"uid":"2b70f6b7f30ceb0b","reportUrl":"../176//#testresult/2b70f6b7f30ceb0b","status":"broken","statusDetails":"juju.errors.JujuAPIError: application \"postgresql-test-app\" has no \"first-database\" relation","time":{"start":1726537609604,"stop":1726537610390,"duration":786}},{"uid":"6cdf9faeee448de0","reportUrl":"../175//#testresult/6cdf9faeee448de0","status":"broken","statusDetails":"juju.errors.JujuAPIError: application \"postgresql-test-app\" has no \"first-database\" relation","time":{"start":1726451274464,"stop":1726451275422,"duration":958}},{"uid":"813aafc3c4423d65","reportUrl":"../174//#testresult/813aafc3c4423d65","status":"broken","statusDetails":"juju.errors.JujuAPIError: application \"postgresql-test-app\" has no \"first-database\" relation","time":{"start":1726364891355,"stop":1726364892213,"duration":858}},{"uid":"86f2b44acacd1125","reportUrl":"../173//#testresult/86f2b44acacd1125","status":"broken","statusDetails":"juju.errors.JujuAPIError: application \"postgresql-test-app\" has no \"first-database\" relation","time":{"start":1726278459656,"stop":1726278460587,"duration":931}},{"uid":"b2e9b48e6296d135","reportUrl":"../172//#testresult/b2e9b48e6296d135","status":"broken","statusDetails":"juju.errors.JujuAPIError: application \"postgresql-test-app\" has no \"first-database\" relation","time":{"start":1726192086508,"stop":1726192087128,"duration":620}},{"uid":"dcaaf729d5891113","reportUrl":"../171//#testresult/dcaaf729d5891113","status":"broken","statusDetails":"juju.errors.JujuAPIError: application \"postgresql-test-app\" has no \"first-database\" relation","time":{"start":1726105655911,"stop":1726105656752,"duration":841}},{"uid":"d28eaa3e18241b4c","reportUrl":"../170//#testresult/d28eaa3e18241b4c","status":"broken","statusDetails":"juju.errors.JujuAPIError: application \"postgresql-test-app\" has no \"first-database\" relation","time":{"start":1726019261449,"stop":1726019262188,"duration":739}},{"uid":"349953e91b921f77","reportUrl":"../169//#testresult/349953e91b921f77","status":"broken","statusDetails":"juju.errors.JujuAPIError: application \"postgresql-test-app\" has no \"first-database\" relation","time":{"start":1725932785793,"stop":1725932786658,"duration":865}},{"uid":"e68da390e08ddabe","reportUrl":"../168//#testresult/e68da390e08ddabe","status":"broken","statusDetails":"juju.errors.JujuAPIError: application \"postgresql-test-app\" has no \"first-database\" relation","time":{"start":1725846392950,"stop":1725846393657,"duration":707}},{"uid":"f8a983c67d5dd368","reportUrl":"../167//#testresult/f8a983c67d5dd368","status":"broken","statusDetails":"juju.errors.JujuAPIError: application \"postgresql-test-app\" has no \"first-database\" relation","time":{"start":1725760012398,"stop":1725760013294,"duration":896}},{"uid":"90ccd5852d1e6de5","reportUrl":"../166//#testresult/90ccd5852d1e6de5","status":"broken","statusDetails":"juju.errors.JujuAPIError: application \"postgresql-test-app\" has no \"first-database\" relation","time":{"start":1725673642897,"stop":1725673643645,"duration":748}},{"uid":"dd80e6cae3630545","reportUrl":"../165//#testresult/dd80e6cae3630545","status":"broken","statusDetails":"juju.errors.JujuAPIError: application \"postgresql-test-app\" has no \"first-database\" relation","time":{"start":1725587259749,"stop":1725587260514,"duration":765}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"4f74d7fd67bce7db.json","parameterValues":[]}