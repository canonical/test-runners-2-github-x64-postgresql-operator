{"uid":"dd45a682d76381f7","name":"test_async_replication_failover_in_main_cluster","fullName":"tests.integration.ha_tests.test_async_replication#test_async_replication_failover_in_main_cluster","historyId":"0d36e96afab568171b86ef8e12ac0c4f","time":{"start":1719281791288,"stop":1719281839651,"duration":48363},"description":"Test that async replication fails over correctly.","descriptionHtml":"<p>Test that async replication fails over correctly.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1719278880331,"stop":1719278880331,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1719278880332,"stop":1719278880332,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1719278880332,"stop":1719278880469,"duration":137},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1719278880469,"stop":1719278880469,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1719278880469,"stop":1719278881070,"duration":601},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1719281791287,"stop":1719281791287,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1719281791287,"stop":1719281791287,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test that async replication fails over correctly.","status":"passed","steps":[],"attachments":[{"uid":"df31bfdc23985116","name":"log","source":"df31bfdc23985116.txt","type":"text/plain","size":1378}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1719281839655,"stop":1719281840677,"duration":1022},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1719281840678,"stop":1719281840678,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::finalizer","time":{"start":1719282990309,"stop":1719282990324,"duration":15},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1719282990325,"stop":1719282991752,"duration":1427},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1719282991752,"stop":1719282991753,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1719282991753,"stop":1719282991753,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1719282991753,"stop":1719282991753,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3')"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.ha_tests"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"fv-az1110-295"},{"name":"thread","value":"7072-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.ha_tests.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"d68f31c23b21c542","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":2,"broken":2,"skipped":5,"passed":9,"unknown":0,"total":18},"items":[{"uid":"abaf533e36dc6dbe","reportUrl":"../87//#testresult/abaf533e36dc6dbe","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1719195094152,"stop":1719195094152,"duration":0}},{"uid":"4e60c77b34e427bb","reportUrl":"../86//#testresult/4e60c77b34e427bb","status":"passed","time":{"start":1719108974662,"stop":1719109054618,"duration":79956}},{"uid":"c35c79612827b927","reportUrl":"../85//#testresult/c35c79612827b927","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-1' != 'postgresql-1'","time":{"start":1719022680799,"stop":1719022719874,"duration":39075}},{"uid":"2c1df46e28bbb54f","reportUrl":"../84//#testresult/2c1df46e28bbb54f","status":"passed","time":{"start":1718936159071,"stop":1718936237151,"duration":78080}},{"uid":"a1114933348fe1f6","reportUrl":"../83//#testresult/a1114933348fe1f6","status":"passed","time":{"start":1718849936629,"stop":1718850014743,"duration":78114}},{"uid":"590e90afd910afe3","reportUrl":"../82//#testresult/590e90afd910afe3","status":"broken","statusDetails":"juju.errors.JujuUnitError: Unit in error: postgresql/2","time":{"start":1718763447338,"stop":1718763473887,"duration":26549}},{"uid":"d04673289af3e6b0","reportUrl":"../81//#testresult/d04673289af3e6b0","status":"passed","time":{"start":1718677127161,"stop":1718677213624,"duration":86463}},{"uid":"224abc8f98329d9a","reportUrl":"../80//#testresult/224abc8f98329d9a","status":"passed","time":{"start":1718590645732,"stop":1718590721721,"duration":75989}},{"uid":"7e32db6a24ee0392","reportUrl":"../79//#testresult/7e32db6a24ee0392","status":"broken","statusDetails":"AttributeError: 'NoneType' object has no attribute 'replace'","time":{"start":1718504622292,"stop":1718504626792,"duration":4500}},{"uid":"a1e69097a620b8e9","reportUrl":"../78//#testresult/a1e69097a620b8e9","status":"passed","time":{"start":1718417874677,"stop":1718417948217,"duration":73540}},{"uid":"b3b0da202475dede","reportUrl":"../77//#testresult/b3b0da202475dede","status":"passed","time":{"start":1718332486237,"stop":1718332558561,"duration":72324}},{"uid":"d62e02b23001d02a","reportUrl":"../76//#testresult/d62e02b23001d02a","status":"passed","time":{"start":1718245450092,"stop":1718245541727,"duration":91635}},{"uid":"27719ae79e9f71d5","reportUrl":"../75//#testresult/27719ae79e9f71d5","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1718160364718,"stop":1718160364718,"duration":0}},{"uid":"7453b5c44a3513fa","reportUrl":"../74//#testresult/7453b5c44a3513fa","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1718074259938,"stop":1718074259938,"duration":0}},{"uid":"a1977095f446db82","reportUrl":"../73//#testresult/a1977095f446db82","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1717987002383,"stop":1717987002383,"duration":0}},{"uid":"4006376b0033f53c","reportUrl":"../72//#testresult/4006376b0033f53c","status":"failed","statusDetails":"AssertionError: Sync-standby is the same as before\nassert 'postgresql-1' != 'postgresql-1'","time":{"start":1717899553703,"stop":1717899594129,"duration":40426}},{"uid":"7628bb97f4d5fc5","reportUrl":"../71//#testresult/7628bb97f4d5fc5","status":"skipped","statusDetails":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","time":{"start":1717813993745,"stop":1717813993745,"duration":0}}]},"tags":["asyncio","abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3')","group(1)"]},"source":"dd45a682d76381f7.json","parameterValues":[]}